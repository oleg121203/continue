"""Reader for WebSocket protocol versions 13 and 8."""

from typing import TYPE_CHECKING

from ..helpers import NO_EXTENSIONS

if TYPE_CHECKING or NO_EXTENSIONS:  # pragma: no cover
    from .reader_py import WebSocketDataQueue as WebSocketDataQueuePython
    from .reader_py import WebSocketReader as WebSocketReaderPython

    WebSocketReader = WebSocketReaderPython
    WebSocketDataQueue = WebSocketDataQueuePython
else:
    try:
        from .reader_c import (
            WebSocketDataQueue as WebSocketDataQueueCython,  # type: ignore[import-not-found]
        )
        from .reader_c import WebSocketReader as WebSocketReaderCython

        WebSocketReader = WebSocketReaderCython
        WebSocketDataQueue = WebSocketDataQueueCython
    except ImportError:  # pragma: no cover
        from .reader_py import WebSocketDataQueue as WebSocketDataQueuePython
        from .reader_py import WebSocketReader as WebSocketReaderPython

        WebSocketReader = WebSocketReaderPython
        WebSocketDataQueue = WebSocketDataQueuePython
